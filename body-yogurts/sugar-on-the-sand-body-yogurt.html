<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Sugar on the Sand Body Yogurt | D'NATURAL BODY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">
</head>

<body class="product-body">

  <header class="header">
    <a href="../index.html" class="logo">
      <img src="../images/logo.png" alt="D'NATURAL BODY Logo">
    </a>

    <nav class="main-nav">
      <a href="../index.html" class="nav-link">Home</a>

      <div class="nav-item dropdown">
        <a href="../shop.html" class="nav-link">Shop â–¾</a>
        <div class="dropdown-menu">
          <a href="../shop.html">View All</a>
          <a href="../shop-body-butter.html">Body Butter</a>
          <a href="../shop-body-scrub.html">Body Scrub</a>
          <a href="../shop-body-yogurt.html">Body Yogurt</a>
        </div>
      </div>

      <a href="../about.html" class="nav-link">About</a>
      <a href="../contact.html" class="nav-link">Contact</a>

      <button class="cart-button" id="cartButton" type="button">
        <span class="cart-icon">ðŸ‘œ</span>
        <span class="cart-count" id="cartCount">0</span>
      </button>
    </nav>
  </header>

  <section class="product-detail">
    <div class="product-detail-inner">
      <div class="product-image">
        <img src="../images/sugar-on-the-sand-body-yogurt.jpg"
             alt="Sugar on the Sand Body Yogurt">
      </div>

      <div class="product-info">
        <h1>Sugar on the Sand</h1>
        <div class="product-type">Body Yogurt</div>

        <p class="product-desc">
          A warm, sun-kissed sugar blend that smells like
          sweet sand, soft waves, and golden hour on your skin. This
          lightweight yogurt melts in, leaving you silky, glowy, and never sticky.
        </p>

        <!-- price & default size -->
        <div class="product-meta">
          <div class="price" id="productPrice">$20.00</div>
          <div class="size" id="productSize">Net Wt. 8 oz / 227 g</div>
        </div>

        <!-- SIZE PICKER -->
        <div class="size-picker">
          <p class="size-label">Choose your size:</p>

          <div class="size-options"
               data-base-id="sugar-on-the-sand-yogurt"
               data-base-name="Sugar on the Sand"
               data-type="Body Yogurt"
               data-image="../images/sugar-on-the-sand-body-yogurt.jpg">

            <!-- 8 oz default -->
            <button class="size-option active"
                    data-size="8 oz"
                    data-grams="227"
                    data-price="20.00" data-variant="53019127120237">
              8 oz
            </button>

            <!-- 4 oz option -->
            <button class="size-option"
                    data-size="4 oz"
                    data-grams="113"
                    data-price="12.00" data-variant="53019127153005">
              4 oz
            </button>
          </div>
        </div>

        <!-- ACCORDIONS -->
        <div class="product-sections">
          <details open>
            <summary>Benefits</summary>
            <ul>
              <li>Weightless hydration that sinks in fast for soft, beach-ready skin.</li>
              <li>Jojoba and shea butter help support the skin barrier and lock in moisture.</li>
              <li>Broccoli seed oil adds a natural, silicone-like sheen without the slip.</li>
            </ul>
          </details>

          <details>
            <summary>Ingredients</summary>
            <p>
              Glycerin, Xanthan Gum, Aqua (Distilled Water), Propanediol (1,3),
              Glyceryl Stearate, PEG-100 Stearate, Sodium Carbomer,
              Simmondsia Chinensis (Jojoba) Seed Oil,
              Butyrospermum Parkii (Shea) Butter,
              Brassica Oleracea Italica (Broccoli) Seed Oil,
              Propylene Glycol (and) Diazolidinyl Urea (and)
              Iodopropynyl Butylcarbamate (Liquid Germall Plus),
              Fragrance (Parfum), Aloe Barbadensis Leaf Extract.
            </p>
          </details>

          <details>
            <summary>How to Use</summary>
            <p>
              Smooth onto clean, damp skin after showering. Focus on dry areas
              like legs, elbows, and shoulders for the most glow. Layer with
              your favorite warm or vanilla fragrance.
            </p>
          </details>
        </div>

        <!-- ACTIONS -->
        <div class="product-actions">
          <!-- note: no .add-to-cart class, no data-* price; JS handles it -->
          <button id="addToCartBtn" class="primary-btn">
            Add to Cart
          </button>

          <a href="../shop-body-yogurt.html" class="outline-btn">
            Back to Body Yogurts
          </a>
        </div>
      </div> <!-- .product-info -->
    </div>   <!-- .product-detail-inner -->
  </section>

  <!-- CART DRAWER OVERLAY -->
  <div class="cart-overlay" id="cartOverlay"></div>

  <!-- CART DRAWER PANEL -->
  <aside class="cart-drawer" id="cartDrawer">
    <div class="cart-drawer-header">
      <h2>Your Cart</h2>
      <button id="closeCart" class="cart-close">&times;</button>
    </div>

    <div class="cart-items" id="cartItems">
      <!-- JS will inject cart items here -->
    </div>

    <div class="cart-footer">
      <div class="cart-subtotal">
        <span>Subtotal</span>
        <span id="cartSubtotal">$0.00</span>
      </div>

      <button class="primary-btn cart-checkout">Checkout</button>
      <button class="outline-btn cart-continue" id="cartContinue">
        Continue Shopping
      </button>
    </div>
  </aside>

  <!-- CART SCRIPT (note the ..) -->
  <script src="../cart.js"></script>

  <!-- SIZE PICKER + ADD TO CART -->
  <script>
  (function() {
    const wrapper = document.querySelector('.size-options');
    if (!wrapper) return;

    const priceEl    = document.querySelector('.product-meta .price');
    const sizeTextEl = document.querySelector('.product-meta .size');
    let active = wrapper.querySelector('.size-option.active') ||
                 wrapper.querySelector('.size-option');

    function formatPrice(value) {
      return '$' + Number(value).toFixed(2);
    }

    function setActive(btn) {
      if (!btn) return;
      wrapper.querySelectorAll('.size-option')
             .forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      active = btn;

      const price = btn.dataset.price;
      const size  = btn.dataset.size;
      const grams = btn.dataset.grams;

      if (priceEl && price !== undefined) {
        priceEl.textContent = formatPrice(price);
      }

      if (sizeTextEl && size) {
        sizeTextEl.textContent = grams
          ? `Net Wt. ${size} / ${grams} g`
          : `Size: ${size}`;
      }
    }

       // click to change size
    wrapper.addEventListener('click', function(e) {
      const btn = e.target.closest('.size-option');
      if (!btn) return;
      setActive(btn);
    });

    // hook Add to Cart
    const addBtn = document.getElementById('addToCartBtn');
    if (addBtn) {
      addBtn.addEventListener('click', function(e) {
        e.preventDefault();
        if (typeof addToCart !== 'function' || !active) return;

        const baseId = wrapper.dataset.baseId;
        const name   = wrapper.dataset.baseName;
        const type   = wrapper.dataset.type;
        const image  = wrapper.dataset.image;

        const size  = active.dataset.size;
        const price = Number(active.dataset.price);

        const variantId =
          baseId + '-' + (size || '').replace(/\s+/g, '').toLowerCase();

        addToCart({
          id:    variantId,
          name:  name,
          type:  type,
          size:  size,
          price: price,
          image: image
        });
      });
    }

    // initialise default
    setActive(active);
  })();
  </script>
</body>
</html>
