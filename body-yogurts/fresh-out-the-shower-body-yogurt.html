<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Fresh Out the Shower Body Yogurt | D'NATURAL BODY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- note the ../ here -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">
</head>

<body class="product-body">

  <header class="header">
    <!-- go UP to root, then to index.html -->
    <a href="../index.html" class="logo">
      <img src="../images/logo.png" alt="D'NATURAL BODY Logo">
    </a>

    <nav class="main-nav">
      <a href="../index.html" class="nav-link">Home</a>

      <div class="nav-item dropdown">
        <a href="../shop.html" class="nav-link">Shop ‚ñæ</a>
        <div class="dropdown-menu">
          <a href="../shop.html">View All</a>
          <a href="../shop-body-butter.html">Body Butter</a>
          <a href="../shop-body-scrub.html">Body Scrub</a>
          <a href="../shop-body-yogurt.html">Body Yogurt</a>
        </div>
      </div>

      <a href="../about.html" class="nav-link">About</a>
      <a href="../contact.html" class="nav-link">Contact</a>

      <button class="cart-button" id="cartButton" type="button">
        <span class="cart-icon">üëú</span>
        <span class="cart-count" id="cartCount">0</span>
      </button>
    </nav>
  </header>

  <section class="product-detail">
    <div class="product-detail-inner">
      <div class="product-image">
        <img src="../images/fresh-out-the-shower-body-yogurt.jpg"
             alt="Fresh Out the Shower Body Yogurt">
      </div>

      <div class="product-info">
        <h1>Fresh Out the Shower</h1>
        <div class="product-type">Body Yogurt</div>

        <p class="product-desc">
          Think clean skin, fluffy towel, and that just-stepped-out-the-shower
          freshness that lingers on your body all day. This cooling body yogurt
          melts in instantly, leaving you soft, hydrated, and smelling like you
          actually did your full routine‚Ä¶ even on the days you rushed.
        </p>

        <!-- price & default size -->
        <div class="product-meta">
          <div class="price" id="productPrice">$20.00</div>
          <div class="size" id="productSize">Net Wt. 8 oz / 227 g</div>
        </div>

        <!-- SIZE PICKER -->
        <div class="size-picker">
          <p class="size-label">Choose your size:</p>

          <div class="size-options"
               data-base-id="fresh-out-the-shower-yogurt"
               data-base-name="Fresh Out the Shower"
               data-type="Body Yogurt"
               data-image="../images/fresh-out-the-shower-body-yogurt.jpg">

            <!-- 8 oz default -->
            <button class="size-option active"
                    data-size="8 oz"
                    data-grams="227"
                    data-price="20.00" data-variant="53019126661485">
              8 oz
            </button>

            <!-- 4 oz option -->
            <button class="size-option"
                    data-size="4 oz"
                    data-grams="113"
                    data-price="12.00" data-variant="53019126694253">
              4 oz
            </button>
          </div>
        </div>

        <!-- ACCORDIONS -->
        <div class="product-sections">
          <details open>
            <summary>Benefits</summary>
            <ul>
              <li>Light gel-cream texture that absorbs quickly with no sticky residue.</li>
              <li>Fresh, clean scent that smells like soap, water, and soft skin ‚Äî perfect for ‚Äúno-perfume‚Äù days.</li>
              <li>Glycerin and aloe help keep skin hydrated, smooth, and comfortable all day.</li>
              <li>Jojoba and shea butter help soften dry areas without feeling heavy or greasy.</li>
            </ul>
          </details>

          <details>
            <summary>Ingredients</summary>
            <p>
              Glycerin, Xanthan Gum, Aqua (Distilled Water), Propanediol (1,3),
              Glyceryl Stearate, PEG-100 Stearate, Sodium Carbomer,
              Simmondsia Chinensis (Jojoba) Seed Oil,
              Butyrospermum Parkii (Shea) Butter,
              Brassica Oleracea Italica (Broccoli) Seed Oil,
              Propylene Glycol (and) Diazolidinyl Urea (and)
              Iodopropynyl Butylcarbamate (Liquid Germall Plus),
              Fragrance (Parfum), Aloe Barbadensis Leaf Extract.
            </p>
            <p><strong>Key skin benefits:</strong></p>
            <ul>
              <li><strong>Glycerin</strong> ‚Äì pulls water into the skin to keep it feeling bouncy and moisturized.</li>
              <li><strong>Jojoba Oil</strong> ‚Äì lightweight and balancing, ideal for everyday use.</li>
              <li><strong>Shea Butter</strong> ‚Äì cushions dry skin and helps protect the moisture barrier.</li>
              <li><strong>Broccoli Seed Oil</strong> ‚Äì gives a silky glide and natural-looking sheen.</li>
              <li><strong>Aloe Vera</strong> ‚Äì helps soothe freshly showered or shaved skin.</li>
            </ul>
          </details>

          <details>
            <summary>How to Use</summary>
            <p>
              Smooth onto clean, slightly damp skin right after your shower for
              best absorption. Perfect alone for a ‚Äúfresh laundry and soap‚Äù
              vibe, or layered under your favorite perfume for a clean-girl base.
            </p>
          </details>
        </div>

        <!-- ACTIONS -->
        <div class="product-actions">
          <button class="primary-btn" id="addToCartBtn" type="button">
            Add to Cart
          </button>

          <a href="../shop-body-yogurt.html" class="outline-btn">
            Back to Body Yogurts
          </a>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <p>¬© 2025 D'NATURAL BODY</p>
    <p>Email: dnaturalbody@outlook.com</p>
  </footer>

  <!-- CART DRAWER OVERLAY -->
  <div class="cart-overlay" id="cartOverlay"></div>

  <!-- CART DRAWER PANEL -->
  <aside class="cart-drawer" id="cartDrawer">
    <div class="cart-drawer-header">
      <h2>Your Cart</h2>
      <button id="closeCart" class="cart-close">&times;</button>
    </div>

    <div class="cart-items" id="cartItems">
      <!-- JS will inject cart items here -->
    </div>

    <div class="cart-footer">
      <div class="cart-subtotal">
        <span>Subtotal</span>
        <span id="cartSubtotal">$0.00</span>
      </div>

      <button class="primary-btn cart-checkout">Checkout</button>
      <button class="outline-btn cart-continue" id="cartContinue">Continue Shopping</button>
    </div>
  </aside>

  <!-- IMPORTANT: from /body-yogurts/ we go up one level -->
  <script src="../cart.js"></script>

  <!-- SIZE PICKER + ADD TO CART HOOK -->
  <script>
  (function() {
    const wrapper = document.querySelector('.size-options');
    if (!wrapper) return;

    const priceEl = document.querySelector('.product-meta .price');
    const sizeTextEl = document.querySelector('.product-meta .size');
    let active = wrapper.querySelector('.size-option.active') || wrapper.querySelector('.size-option');

    function formatPrice(value) {
      return '$' + Number(value).toFixed(2);
    }

    function setActive(btn) {
      if (!btn) return;
      wrapper.querySelectorAll('.size-option').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      active = btn;

      const price = btn.dataset.price;
      const size = btn.dataset.size;
      const grams = btn.dataset.grams;

      if (priceEl && price !== undefined) {
        priceEl.textContent = formatPrice(price);
      }

      if (sizeTextEl && size) {
        sizeTextEl.textContent = grams
          ? `Net Wt. ${size} / ${grams} g`
          : `Size: ${size}`;
      }
    }

    // click to change size
    wrapper.addEventListener('click', function(e) {
      const btn = e.target.closest('.size-option');
      if (!btn) return;
      setActive(btn);
    });

    // hook Add to Cart
    const addBtn = document.getElementById('addToCartBtn');
    if (addBtn) {
      addBtn.addEventListener('click', function(e) {
        e.preventDefault();

        if (typeof addToCart !== 'function' || !active) return;

        const baseId = wrapper.dataset.baseId;
        const name = wrapper.dataset.baseName;
        const type = wrapper.dataset.type;
        const image = wrapper.dataset.image;

        const size = active.dataset.size;
        const price = Number(active.dataset.price);

        // build a unique id per size, e.g. fresh-out-the-shower-yogurt-8oz
        const variantId =
          baseId + '-' + (size || '').replace(/\s+/g, '').toLowerCase();

        addToCart({
          id: variantId,
          name: name,
          type: type,
          size: size,
          price: price,
          image: image
        });
      });
    }

    // initialise default
    setActive(active);
  })();
  </script>
</body>
</html>
