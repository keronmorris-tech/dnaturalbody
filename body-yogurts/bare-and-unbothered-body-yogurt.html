<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Bare and Unbothered Body Yogurt | D'NATURAL BODY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- note the ../ here -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">
</head>

<body class="product-body">

  <header class="header">
    <!-- go UP to root, then to index.html -->
    <a href="../index.html" class="logo">
      <img src="../images/logo.png" alt="D'NATURAL BODY Logo">
    </a>

    <nav class="main-nav">
      <a href="../index.html" class="nav-link">Home</a>

      <div class="nav-item dropdown">
        <a href="../shop.html" class="nav-link">Shop ‚ñæ</a>
        <div class="dropdown-menu">
          <a href="../shop.html">View All</a>
          <a href="../shop-body-butter.html">Body Butter</a>
          <a href="../shop-body-scrub.html">Body Scrub</a>
          <a href="../shop-body-yogurt.html">Body Yogurt</a>
        </div>
      </div>

      <a href="../about.html" class="nav-link">About</a>
      <a href="../contact.html" class="nav-link">Contact</a>

      <button class="cart-button" id="cartButton" type="button">
        <span class="cart-icon">üëú</span>
        <span class="cart-count" id="cartCount">0</span>
      </button>
    </nav>
  </header>

  <section class="product-detail">
    <div class="product-detail-inner">
      <div class="product-image">
        <img src="../images/bare-and-unbothered-body-yogurt.jpg"
             alt="Bare &amp; Unbothered Body Yogurt">
      </div>

      <div class="product-info">
        <h1>Bare and Unbothered</h1>
        <div class="product-type">Body Yogurt</div>

        <p class="product-desc">
          For the days you want soft, healthy skin without a loud scent.
          Bare and Unbothered is a light, fast-absorbing body yogurt with a
          gentle, skin-first formula that keeps you moisturized, smooth, and
          low-key glowing ‚Äî perfect on its own or layered under your favorite
          perfume.
        </p>

        <!-- price & default size -->
        <div class="product-meta">
          <div class="price" id="productPrice">$20.00</div>
          <div class="size" id="productSize">Net Wt. 8 oz / 227 g</div>
        </div>

        <!-- SIZE PICKER -->
        <div class="size-picker">
          <p class="size-label">Choose your size:</p>

          <div class="size-options"
               data-base-id="bare-and-unbothered-yogurt"
               data-base-name="Bare and Unbothered"
               data-type="Body Yogurt"
               data-image="../images/bare-and-unbothered-body-yogurt.jpg">

            <!-- 8 oz default -->
            <button class="size-option active"
                    data-size="8 oz"
                    data-grams="227"
                    data-price="20.00" data-variant="53019126530413">
              8 oz
            </button>

            <!-- 4 oz option -->
            <button class="size-option"
                    data-size="4 oz"
                    data-grams="113"
                    data-price="12.00" data-variant="53019126563181">
              4 oz
            </button>
          </div>
        </div>

        <!-- ACCORDIONS -->
        <div class="product-sections">
          <details open>
            <summary>Benefits</summary>
            <ul>
              <li>Lightweight, non-greasy moisture that sinks in quickly.</li>
              <li>Perfect for sensitive noses or days you want a more ‚Äúbare‚Äù scent.</li>
              <li>Glycerin and aloe help keep skin hydrated, soft, and comfortable.</li>
              <li>Jojoba and shea butter support the skin barrier and smooth rough areas.</li>
            </ul>
          </details>

          <details>
            <summary>Ingredients</summary>
            <p>
              Glycerin, Xanthan Gum, Aqua (Distilled Water), Propanediol (1,3),
              Glyceryl Stearate, PEG-100 Stearate, Sodium Carbomer,
              Simmondsia Chinensis (Jojoba) Seed Oil,
              Butyrospermum Parkii (Shea) Butter,
              Brassica Oleracea Italica (Broccoli) Seed Oil,
              Propylene Glycol (and) Diazolidinyl Urea (and)
              Iodopropynyl Butylcarbamate (Liquid Germall Plus),
              Fragrance (Parfum), Aloe Barbadensis Leaf Extract.
            </p>
            <p><strong>Key skin benefits:</strong></p>
            <ul>
              <li><strong>Glycerin</strong> ‚Äì draws in moisture so skin feels bouncy, not tight.</li>
              <li><strong>Jojoba Oil</strong> ‚Äì helps balance and soften without feeling heavy.</li>
              <li><strong>Shea Butter</strong> ‚Äì cushions dry areas and supports the skin barrier.</li>
              <li><strong>Broccoli Seed Oil</strong> ‚Äì adds a silky, conditioned finish with a soft sheen.</li>
              <li><strong>Aloe Vera</strong> ‚Äì helps soothe and comfort freshly cleansed skin.</li>
            </ul>
          </details>

          <details>
            <summary>How to Use</summary>
            <p>
              Smooth onto clean, slightly damp skin after showering.
              Use daily on arms, legs, and body for soft, comfortable skin.
              Wear alone for a ‚Äúyour skin but better‚Äù feel, or layer under
              your favorite fragrance.
            </p>
          </details>
        </div>

        <!-- ACTIONS -->
        <div class="product-actions">
          <button class="primary-btn" id="addToCartBtn" type="button">
            Add to Cart
          </button>

          <a href="../shop-body-yogurt.html" class="outline-btn">
            Back to Body Yogurts
          </a>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <p>¬© 2025 D'NATURAL BODY</p>
    <p>Email: dnaturalbody@outlook.com</p>
  </footer>

  <!-- CART DRAWER OVERLAY -->
  <div class="cart-overlay" id="cartOverlay"></div>

  <!-- CART DRAWER PANEL -->
  <aside class="cart-drawer" id="cartDrawer">
    <div class="cart-drawer-header">
      <h2>Your Cart</h2>
      <button id="closeCart" class="cart-close">&times;</button>
    </div>

    <div class="cart-items" id="cartItems">
      <!-- JS will inject cart items here -->
    </div>

    <div class="cart-footer">
      <div class="cart-subtotal">
        <span>Subtotal</span>
        <span id="cartSubtotal">$0.00</span>
      </div>

      <button class="primary-btn cart-checkout">Checkout</button>
      <button class="outline-btn cart-continue" id="cartContinue">Continue Shopping</button>
    </div>
  </aside>

  <!-- IMPORTANT: from /body-yogurts/ we go up one level -->
  <script src="../cart.js"></script>

  <!-- SIZE PICKER + ADD TO CART HOOK -->
  <script>
  (function() {
    const wrapper = document.querySelector('.size-options');
    if (!wrapper) return;

    const priceEl = document.querySelector('.product-meta .price');
    const sizeTextEl = document.querySelector('.product-meta .size');
    let active = wrapper.querySelector('.size-option.active') || wrapper.querySelector('.size-option');

    function formatPrice(value) {
      return '$' + Number(value).toFixed(2);
    }

    function setActive(btn) {
      if (!btn) return;
      wrapper.querySelectorAll('.size-option').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      active = btn;

      const price = btn.dataset.price;
      const size = btn.dataset.size;
      const grams = btn.dataset.grams;

      if (priceEl && price !== undefined) {
        priceEl.textContent = formatPrice(price);
      }

      if (sizeTextEl && size) {
        sizeTextEl.textContent = grams
          ? `Net Wt. ${size} / ${grams} g`
          : `Size: ${size}`;
      }
    }

    // click to change size
    wrapper.addEventListener('click', function(e) {
      const btn = e.target.closest('.size-option');
      if (!btn) return;
      setActive(btn);
    });

    // hook Add to Cart
    const addBtn = document.getElementById('addToCartBtn');
    if (addBtn) {
      addBtn.addEventListener('click', function(e) {
        e.preventDefault();

        if (typeof addToCart !== 'function' || !active) return;

        const baseId = wrapper.dataset.baseId;
        const name = wrapper.dataset.baseName;
        const type = wrapper.dataset.type;
        const image = wrapper.dataset.image;

        const size = active.dataset.size;
        const price = Number(active.dataset.price);

        // build a unique id per size, e.g. bare-and-unbothered-yogurt-8oz
        const variantId =
          baseId + '-' + (size || '').replace(/\s+/g, '').toLowerCase();

        addToCart({
          id: variantId,
          name: name,
          type: type,
          size: size,
          price: price,
          image: image
        });
      });
    }

    // initialise default
    setActive(active);
  })();
  </script>

</body>
</html>
