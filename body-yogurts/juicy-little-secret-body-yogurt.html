<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Juicy Little Secret | D'NATURAL BODY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">

  <!-- Hide Shopify's variant dropdown ONLY inside this buy button area -->
  <style>
    #product-component-14892470174061 .shopify-buy__product__variant-selectors,
    #product-component-14892470174061 .shopify-buy__option-select-wrapper,
    #product-component-14892470174061 select.shopify-buy__option-select__select {
      display: none !important;
    }
  </style>

<style>
  /* Hide Shopify Buy Button built-in UI inside this component (we render our own) */
  #product-component-14892470174061 .shopify-buy__product__variant-selectors,
  #product-component-14892470174061 .shopify-buy__option-select-wrapper,
  #product-component-14892470174061 select.shopify-buy__option-select__select,
  #product-component-14892470174061 .shopify-buy__product__price,
  #product-component-14892470174061 .shopify-buy__product__actual-price,
  #product-component-14892470174061 .shopify-buy__product__compare-price,
  #product-component-14892470174061 .shopify-buy__btn {
    display: none !important;
  }

  /* Custom buy box (variant chips + qty + add) */
  .dn-buybox{margin-top:18px;border-top:1px solid rgba(0,0,0,0.08);padding-top:16px}
  .dn-label{font-family:'Montserrat',sans-serif;font-size:13px;color:rgba(0,0,0,0.65);margin:10px 0 8px 0}
  .dn-sizes{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:14px}
  .dn-chip{font-family:'Montserrat',sans-serif;font-size:14px;padding:10px 18px;border-radius:999px;border:1px solid rgba(0,0,0,0.25);background:#fff;color:#0b0a0a;cursor:pointer;user-select:none;transition:transform .05s ease,background .2s ease}
  .dn-chip:active{transform:scale(.98)}
  .dn-chip[aria-pressed="true"]{background:#0b0a0a;color:#fff;border-color:#0b0a0a;font-weight:700}
  .dn-qtywrap{display:inline-flex;align-items:center;border:1px solid rgba(0,0,0,0.25);border-radius:10px;overflow:hidden;margin-bottom:14px;background:#fff}
  .dn-qtybtn{width:44px;height:42px;border:0;background:transparent;font-size:18px;cursor:pointer;color:#0b0a0a}
  .dn-qtynum{width:54px;height:42px;display:grid;place-items:center;font-family:'Montserrat',sans-serif;font-weight:700;color:#0b0a0a;border-left:1px solid rgba(0,0,0,0.15);border-right:1px solid rgba(0,0,0,0.15)}
  .dn-actions{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .dn-add{background:#1d201c;color:#fff;border:none;padding:14px 18px;border-radius:10px;font-family:'Montserrat',sans-serif;font-weight:700;cursor:pointer;min-width:170px}
  .dn-add:hover{background:#313630}
  .dn-add:disabled{opacity:.6;cursor:not-allowed}
  .dn-note{font-family:'Montserrat',sans-serif;font-size:13px;color:rgba(0,0,0,0.65);margin-top:8px}
</style>
</head>

<body class="product-body">
  <header class="header">
    <a href="../index.html" class="logo">
      <img src="../images/logo.png" alt="D'NATURAL BODY Logo">
    </a>

    <nav class="main-nav">
      <a href="../index.html" class="nav-link">Home</a>

      <div class="nav-item dropdown">
        <a href="../shop.html" class="nav-link">Shop â–¾</a>
        <div class="dropdown-menu">
          <a href="../shop.html">View All</a>
          <a href="../shop-body-butter.html">Body Butter</a>
          <a href="../shop-body-scrub.html">Body Scrub</a>
          <a href="../shop-body-yogurt.html">Body Yogurt</a>
        </div>
      </div>

      <a href="../about.html" class="nav-link">About</a>
      <a href="../contact.html" class="nav-link">Contact</a>

      <button class="cart-button" id="cartButton" type="button" aria-label="Cart">
        <span class="cart-icon">ðŸ‘œ</span>
        <span class="cart-count" id="cartCount" style="display:none;">0</span>
      </button>
    </nav>
  </header>

  <section class="product-detail">
    <div class="product-detail-inner">

      <div class="product-image">
        <img src="../images/juicy-little-secret-body-yogurt.jpg" alt="Juicy Little Secret">
      </div>

      <div class="product-info">
        <h1>Juicy Little Secret</h1>
        <div class="product-type">Body Yogurt</div>

        <div class="price" id="dnPriceTop">$â€”</div>
</div>

        
        </div>
        

        <p class="product-desc">A lightweight, juicy body yogurt that melts into the skin,
          leaving a soft sheen and a flirty, fruit-forward scent that
          feels like your own little secret.</p>

        <div class="product-sections">
<details open><summary>Benefits</summary><p>Benefits<br>â€¢ Fast-absorbing gel-cream texture â€” no heavy residue.<br>â€¢ Perfect for warm days or layering under body butter.<br>â€¢ Leaves skin silky, hydrated, and softly scented.</p></details>
<details><summary>Ingredients</summary><p>Ingredients<br>Water (Aqua), Glycerin, Caprylic/Capric Triglyceride,<br>            Cetearyl Alcohol, Cetearyl Olivate (and) Sorbitan Olivate,<br>            Jojoba Oil, Fragrance (Parfum), Carbomer, Triethanolamine,<br>            Phenoxyethanol (and) Ethylhexylglycerin.</p></details>
<details><summary>How to Use</summary><p>How to Use<br>Apply to clean, dry or slightly damp skin and massage in<br>            until fully absorbed. Use alone for lightweight moisture<br>            or layer under your favorite body butter for extra softness.</p></details>
</div>

<div class="dn-buybox">
  <div class="dn-label">Size</div>
  <div class="dn-sizes" id="dnSizes"></div>

  <div class="dn-label">Quantity</div>
  <div class="dn-qtywrap" aria-label="Quantity selector">
    <button class="dn-qtybtn" id="dnMinus" type="button" aria-label="Decrease quantity">âˆ’</button>
    <div class="dn-qtynum" id="dnQty">1</div>
    <button class="dn-qtybtn" id="dnPlus" type="button" aria-label="Increase quantity">+</button>
  </div>

  <div class="dn-actions">
    <button class="dn-add" id="dnAdd" type="button" disabled>Add to cart</button>
    <a href="../shop-body-yogurt.html" class="outline-btn">Back</a>
  </div>

  <div class="dn-note" id="dnNote">Select a size to see price.</div>

  <!-- Hidden mount keeps Shopify cart system consistent -->
  <div id="product-component-14892470174061" style="display:none;"></div>
</div>
          <a href="../shop-body-yogurt.html" class="outline-btn">Back</a>
        </div>

      </div>
    </div>
  </section>

  <footer class="footer">
    <p>Â© 2026 D'NATURAL BODY</p>
    <p>Email: dnaturalbody@outlook.com</p>
  </footer>

  

    <!-- Hidden node used by Shopify cart toggle (required) -->
  <div id="shopify-cart-toggle" style="display:none;"></div>

  <!-- Global Shopify Buy Button + Cart wiring -->
  <script src="../buybutton.js"></script>

  <!-- Mount the Shopify Buy Button -->
  
<script>
(function () {
  var PRODUCT_ID = '14892470174061';
  var PRODUCT_HANDLE = 'juicy-little-secret-body-yogurt';

  var selectedVariantGid = null;
  var selectedVariantTitle = '';
  var selectedVariantPrice = null;
  var selectedCurrency = 'CAD';
  var qty = 1;

  var priceTopEl = document.getElementById('dnPriceTop');
  var sizesEl = document.getElementById('dnSizes');
  var addBtn = document.getElementById('dnAdd');
  var noteEl = document.getElementById('dnNote');
  var qtyEl = document.getElementById('dnQty');
  var minusBtn = document.getElementById('dnMinus');
  var plusBtn = document.getElementById('dnPlus');

  function formatMoney(amountStr, currencyCode) {
    var n = Number(amountStr);
    var c = currencyCode || 'CAD';
    if (!Number.isFinite(n)) return '$â€”';
    try {
      return new Intl.NumberFormat('en-CA', { style: 'currency', currency: c }).format(n);
    } catch (e) {
      return '$' + n.toFixed(2) + ' ' + c;
    }
  }

  function setQty(newQty) {
    qty = Math.max(1, newQty);
    if (qtyEl) qtyEl.textContent = String(qty);
  }

  if (minusBtn) minusBtn.addEventListener('click', function () { setQty(qty - 1); });
  if (plusBtn)  plusBtn.addEventListener('click', function () { setQty(qty + 1); });

  function renderSizes(variants) {
    if (!sizesEl) return;
    sizesEl.innerHTML = '';

    variants.forEach(function (v, idx) {
      var title = (v.title || '').trim();
      var btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'dn-chip';
      btn.textContent = title;
      btn.setAttribute('aria-pressed', 'false');

      btn.addEventListener('click', function () {
        Array.prototype.forEach.call(sizesEl.querySelectorAll('.dn-chip'), function (b) {
          b.setAttribute('aria-pressed', 'false');
        });
        btn.setAttribute('aria-pressed', 'true');

        selectedVariantGid = v.id;
        selectedVariantTitle = title;
        selectedVariantPrice = v.price && v.price.amount ? v.price.amount : null;
        selectedCurrency = (v.price && v.price.currencyCode) ? v.price.currencyCode : (selectedCurrency || 'CAD');

        if (priceTopEl) priceTopEl.textContent = formatMoney(selectedVariantPrice, selectedCurrency);
        if (addBtn) addBtn.disabled = false;
        if (noteEl) noteEl.textContent = 'Selected: ' + selectedVariantTitle;
      });

      sizesEl.appendChild(btn);

      if (idx === 0) setTimeout(function () { btn.click(); }, 0);
    });
  }

  function addToCart() {
    if (!window.DNShopify || !window.DNShopify.cart || !selectedVariantGid) return;

    addBtn.disabled = true;
    addBtn.textContent = 'Addingâ€¦';

    window.DNShopify.cart.addLineItems([
      { variantId: selectedVariantGid, quantity: qty }
    ]).then(function () {
      addBtn.textContent = 'Add to cart';
      addBtn.disabled = false;
      if (window.DNShopify.openCart) window.DNShopify.openCart();
    }).catch(function () {
      addBtn.textContent = 'Add to cart';
      addBtn.disabled = false;
      if (noteEl) noteEl.textContent = 'Could not add item. Please try again.';
    });
  }

  if (addBtn) addBtn.addEventListener('click', addToCart);

  function mountAndFetch() {
    if (!window.DNShopify || !window.DNShopify.client) {
      return setTimeout(mountAndFetch, 80);
    }

    // Hidden mount (keeps cart behavior consistent across pages)
    if (window.DNShopify.mountProduct && PRODUCT_ID) {
      window.DNShopify.mountProduct({
        id: PRODUCT_ID,
        node: '#product-component-14892470174061',
        options: { cart: { popup: false } }
      });
    }

    // Fetch variants + prices (reliable: by handle)
    window.DNShopify.client.product.fetchByHandle(PRODUCT_HANDLE).then(function (product) {
      if (!product || !product.variants || !product.variants.length) {
        if (noteEl) noteEl.textContent = 'No sizes found.';
        return;
      }

      var variants = product.variants.map(function (v) {
        var p = v.priceV2 || { amount: v.price, currencyCode: 'CAD' };
        return { id: v.id, title: v.title, price: p };
      });

      renderSizes(variants);
    }).catch(function () {
      if (noteEl) noteEl.textContent = 'Could not load pricing. Please refresh.';
    });
  }

  setQty(1);
  mountAndFetch();
})();
</script>
</body>
</html>
