<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Berry Boujee | D'NATURAL BODY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">

  <style>
    /* Hide Shopify default variant dropdown / qty / button if a product component is ever mounted */
    #product-component-14889683222893 .shopify-buy__product__variant-selectors,
    #product-component-14889683222893 .shopify-buy__option-select-wrapper,
    #product-component-14889683222893 select.shopify-buy__option-select__select,
    #product-component-14889683222893 .shopify-buy__product__quantity,
    #product-component-14889683222893 .shopify-buy__btn {
      display: none !important;
    }

    /* Purchase block, qty + button – same look as Cashmere */
    .purchase-block { margin-top: 22px; }
    .purchase-label {
      font-size: 12px;
      letter-spacing: .12em;
      text-transform: uppercase;
      opacity: .7;
      margin-bottom: 8px;
    }

    .variant-price {
      font-size:18px;
      font-weight:700;
      margin:6px 0 10px;
    }

    .qty-row {
      display:flex;
      align-items:center;
      gap:10px;
      margin: 8px 0 14px;
    }

    .qty-btn {
      width:42px;
      height:42px;
      border:1px solid #222;
      background:#fff;
      border-radius:10px;
      cursor:pointer;
      font-size:18px;
    }

    .qty-input {
      width:64px;
      height:42px;
      border:1px solid #222;
      border-radius:10px;
      text-align:center;
      font-weight:700;
    }

    .btn-primary {
      background:#111;
      color:#fff;
      border:none;
      padding:14px 18px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
      width:220px;
      text-align:center;
    }

    .btn-primary:disabled {
      opacity:.5;
      cursor:not-allowed;
    }

    /* We still create size pills for Shopify wiring, but hide them visually */
    .size-options { display:none; }
    .size-pill { display:none; }
  </style>
</head>

<body class="product-body">
  <header class="header">
    <a href="../index.html" class="logo">
      <img src="../images/logo.png" alt="D'NATURAL BODY Logo">
    </a>

    <nav class="main-nav">
      <a href="../index.html" class="nav-link">Home</a>

      <div class="nav-item dropdown">
        <a href="../shop.html" class="nav-link">Shop ▾</a>
        <div class="dropdown-menu">
          <a href="../shop.html">View All</a>
          <a href="../shop-body-butter.html">Body Butter</a>
          <a href="../shop-body-scrub.html">Body Scrub</a>
          <a href="../shop-body-yogurt.html">Body Yogurt</a>
        </div>
      </div>

      <a href="../about.html" class="nav-link">About</a>
      <a href="../contact.html" class="nav-link">Contact</a>

      <!-- Shopify cart toggle button (cart drawer) -->
      <div id="shopify-cart-toggle" class="shopify-cart-toggle" aria-label="Cart"></div>
    </nav>
  </header>

  <section class="product-detail">
    <div class="product-detail-inner">

      <div class="product-image">
        <img src="../images/Berry-Boujee-body-scrub.jpg" alt="Berry Boujee Body Scrub">
      </div>

      <div class="product-info">
        <h1>Berry Boujee</h1>
        <div class="product-type">Body Scrub</div>

        <div class="product-meta">
          <!-- Price will get updated from Shopify by JS, so this is just a placeholder -->
          <div class="price" id="priceText">$22.00</div>
          <div class="size" id="sizeText">Net Wt. 12 oz</div>
        </div>

        <p class="product-desc">
          A juicy, sugar-based exfoliating scrub that gently buffs away dull skin,
          leaving your body soft, hydrated, and smelling like a berry-filled treat.
        </p>

        <a href="../shop-body-scrub.html" class="outline-btn">Back</a>

        <div class="product-sections">
          <details open>
            <summary>Benefits</summary>
            <p>
              • Berry-sweet scent for a fun, feel-good shower ritual.<br>
              • Exfoliates without stripping moisture.<br>
              • Leaves skin smooth, nourished, and glowing.
            </p>
          </details>

          <details>
            <summary>Ingredients</summary>
            <p>
              Sugar, plant-based oils and butters, gentle cleansing agents, and a mild
              preservative system to keep your scrub fresh. (Customize this list with your
              exact INCI when you’re ready.)
            </p>
          </details>

          <details>
            <summary>How to Use</summary>
            <p>
              Massage onto damp skin in circular motions, focusing on rough areas like elbows,
              knees, and thighs. Rinse thoroughly and follow with your favourite body butter
              for extra glow. Use 2–3 times per week.
            </p>
          </details>
        </div>

        <!-- PURCHASE BLOCK -->
        <div class="purchase-block">
          <!-- Hidden size options (for Shopify variant wiring) -->
          <div id="size-options" class="size-options"></div>

          <!-- Price shown near the button as well -->
          <div class="purchase-label">Price</div>
          <div id="variant-price" class="variant-price">$0.00</div>

          <div class="purchase-label">Quantity</div>
          <div class="qty-row">
            <button class="qty-btn" type="button" id="qty-minus">−</button>
            <input class="qty-input" type="text" id="qty-input" value="1" inputmode="numeric" />
            <button class="qty-btn" type="button" id="qty-plus">+</button>
          </div>

          <button id="add-to-cart" class="btn-primary" type="button" disabled>
            Add to cart
          </button>

          <!-- Hidden Shopify product component (if you ever decide to mount it) -->
          <div id="product-component-14889683222893" style="display:none;"></div>
        </div>

      </div>
    </div>
  </section>

  <footer class="footer">
    <p>© 2026 D'NATURAL BODY</p>
    <p>Email: dnaturalbody@outlook.com</p>
  </footer>

  <!-- Global Shopify wiring (cart drawer + DNShopify helpers) -->
  <script src="../buybutton.js"></script>

  <!-- Page-specific logic: quantity controls + hook into DNShopify -->
  <script>
    (function () {
      // Berry Boujee product ID from your original Shopify embed
      var PRODUCT_ID_NUMERIC = '14889683222893';

      function clampQty(n) {
        n = Number(n);
        if (isNaN(n) || n < 1) n = 1;
        return Math.floor(n);
      }

      function initQtyControls() {
        var qtyInput = document.getElementById('qty-input');
        var qtyMinus = document.getElementById('qty-minus');
        var qtyPlus  = document.getElementById('qty-plus');

        if (!qtyInput || !qtyMinus || !qtyPlus) return;

        qtyInput.value = '1';

        qtyMinus.addEventListener('click', function () {
          var current = clampQty(qtyInput.value);
          current = current - 1;
          if (current < 1) current = 1;
          qtyInput.value = current;
        });

        qtyPlus.addEventListener('click', function () {
          var current = clampQty(qtyInput.value);
          qtyInput.value = current + 1;
        });

        qtyInput.addEventListener('blur', function () {
          qtyInput.value = clampQty(qtyInput.value);
        });
      }

      function initVariantHook() {
        function waitForDNShopify() {
          if (
            window.DNShopify &&
            window.DNShopify.__initialized &&
            typeof window.DNShopify.mountVariantPills === 'function'
          ) {
            // Use mountVariantPills just like the butters,
            // but the size pills are hidden (single-variant product).
            window.DNShopify.mountVariantPills({
              productId: PRODUCT_ID_NUMERIC,
              pillsNode: '#size-options',
              priceNode: '#variant-price',
              addBtn: '#add-to-cart',
              qtyInput: '#qty-input',
              optionNames: ['size', 'weight', 'amount', 'title'],
              openCartOnAdd: true
            });

            // Also mirror the price into the meta price at the top
            var topPrice = document.getElementById('priceText');
            var priceNode = document.getElementById('variant-price');
            if (topPrice && priceNode) {
              var observer = new MutationObserver(function () {
                topPrice.textContent = priceNode.textContent;
              });
              observer.observe(priceNode, { childList: true, characterData: true, subtree: true });
            }
          } else {
            // DNShopify not ready yet, try again shortly
            setTimeout(waitForDNShopify, 50);
          }
        }

        waitForDNShopify();
      }

      function initPage() {
        initQtyControls();
        initVariantHook();
      }

      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initPage);
      } else {
        initPage();
      }
    })();
  </script>
</body>
</html>
